<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="https://js.jotform.com/JotFormCustomWidget.min.js"></script> 
    <title>bar</title>

    <style type="text/css" media="screen">

    table td {
      width:10px;
      height:25px;
      vertical-align:middle;
      background-color:#ddd;
    }

    #textBar{
      font-family: all;
      font-size: 15px;
      font-style: all;
      color: grey;
      float: left;
      position: absolute;
      top: 15px;
      left: 130px;
    }

</style>
</head>
<body>
  <table class="table" id="tab" cellpadding="0" cellspacing="1">
    <tbody class="tbody" id="t">
      <tr class="mytab" id="x" style="cursor: pointer">  
   
        <div id="textBar"></div>
      </tr>
    </tbody>
  </table>
  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script type="text/javascript">

  JFCustomWidget.subscribe("submit", function() {
      var result = {value:"", valid: false};
      result.value = document.getElementById("textbar").value;
      result.valid = true;
   
      JFCustomWidget.sendSubmit(result);
    });


  var userInput= 10;
  for(var i = 0; i < userInput; i++){
     $(".mytab").append('<td id="light-'+i+'"></td><div id="textBar-'+i+'"></div>');
     $("#light-" + i).hover(myfun);
     $("#textBar-"+ i).hover(myfun);
     
   
  } 

  function myfun(e) {
    var id = e.target.id.split('-')[1];
    var colorCode = id < 3 ? '#FF0000' : (id < 7 ? '#FFD700': '#32DC32');
    var textbar = id < 3 ? "BAD" : (id < 7 ? "NOT BAD" : "GOOD");
    $("#textBar").text(textbar);

    
    for (var i = 0; i < userInput; i++) {
      if (i <= id) $("#light-" + i).css({ "background-color": colorCode });
      else $("#light-" + i).css({ "background-color": '#ddd' });

    }
    
  }

      
  </script>
</body>
    
    </html>





